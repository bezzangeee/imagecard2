<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>상상력 카드</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #fafafa; }
    .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 20px; }
    .card { width: 100%; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.2); cursor: pointer; }
    .controls { margin: 15px 0; }
    select, button, input { padding: 6px 10px; font-size: 1rem; }
    #modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; }
    #modal img { max-width:90%; max-height:90%; border-radius:10px; }
  </style>
</head>
<body>
  <h1>상상력 카드</h1>

  <div class="controls">
    <label for="count">카드 개수:</label>
    <input type="number" id="count" value="6" min="1" max="20">

    <label for="theme">테마:</label>
    <select id="theme">
      <option value="people">인물</option>
      <option value="children">어린이</option>
      <option value="school,playground,classroom">학교/놀이터</option>
      <option value="market,street">시장/거리</option>
      <option value="random">랜덤</option>
    </select>

    <button onclick="createCards()">카드 만들기</button>
  </div>

  <div class="card-grid" id="cardGrid"></div>

  <!-- 모달 -->
  <div id="modal">
    <img id="modalImg" src="">
  </div>

  <script>
    const ACCESS_KEY = "여기에_Unsplash_API_KEY_입력"; // Unsplash API Key

    async function createCards() {
      const count = document.getElementById('count').value;
      let theme = document.getElementById('theme').value;
      if (theme === "random") theme = "people,children,street,playground";

      const res = await fetch(`https://api.unsplash.com/photos/random?query=${theme}&count=${count}&content_filter=high&client_id=${ACCESS_KEY}`);
      const data = await res.json();

      const grid = document.getElementById('cardGrid');
      grid.innerHTML = "";

      data.forEach(photo => {
        const img = document.createElement('img');
        img.src = photo.urls.small;
        img.className = "card";

        // 클릭 시 모달 열기
        img.onclick = () => {
          const modal = document.getElementById('modal');
          const modalImg = document.getElementById('modalImg');
          modal.style.display = 'flex';
          modalImg.src = photo.urls.full;
        }

        grid.appendChild(img);
      });
    }

    // 모달 클릭 시 닫기
    document.getElementById('modal').onclick = () => {
      document.getElementById('modal').style.display = 'none';
    }
  </script>
</body>
</html>
